(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{ZEpu:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=function(){return function(){}}(),a=u("pMnS"),r=u("t/Na"),o=u("F/XL"),c=u("XlPw"),s=u("9Z1F"),i=(new r.g({"Content-Type":"application/json"}),"http://localhost:60737/primas"),d=function(){function l(l){this.http=l}return l.prototype.handleError=function(l,n){return void 0===l&&(l="operation"),function(l){return console.log("Hey, listen"),console.error(l),Object(o.a)(n)}},l.prototype.getPrimasRamo=function(l,n){var u=this;return this.http.get(i+"/actual/"+l+"/"+n).pipe(Object(s.a)(function(l){return Object(c.a)(u.handleError(l))}))},l.prototype.getPrimasRamoAcum=function(l,n){var u=this;return this.http.get(i+"/acumulado/"+l+"/"+n).pipe(Object(s.a)(function(l){return Object(c.a)(u.handleError(l))}))},l.prototype.getTomadoresRamo=function(l,n){var u=this;return this.http.get("http://localhost:60737/tomadores/actual/"+l+"/"+n).pipe(Object(s.a)(function(l){return Object(c.a)(u.handleError(l))}))},l.prototype.getTomadoresRamoAcum=function(l,n){var u=this;return this.http.get("http://localhost:60737/tomadores/acumulado/"+l+"/"+n).pipe(Object(s.a)(function(l){return Object(c.a)(u.handleError(l))}))},l.ngInjectableDef=t.defineInjectable({factory:function(){return new l(t.inject(r.c))},token:l,providedIn:"root"}),l}(),p=u("ej43"),h=u("MO+k"),g=function(){function l(l,n){var u=this;this._service=l,this.authenticationService=n,this.chart=[],this.chartAcum=[],this.chartPie=[],this.chartPieAcum=[],this.authenticationService.currentUser.subscribe(function(l){return u.currentUser=l})}return l.prototype.ngOnInit=function(){this.getData(),this.getDataAcum(),this.getDataClientes(),this.getDataClientesAcum()},l.prototype.getDataClientesAcum=function(){var l=this;this._service.getTomadoresRamoAcum(this.currentUser.cod_tipo_agente,this.currentUser.cod_agente).subscribe(function(n){console.log(n);for(var u=[],t=[],e=0;e<n.length;e++)u.push(n[e].desc_ramo),t.push(n[e].nro_tomadores);console.log(u),console.log(t),l.chartPie=new h.Chart("canvasPieAcum",{type:"pie",data:{labels:u,datasets:[{label:"My First Dataset",data:t,backgroundColor:["rgb(232, 56, 79)","rgb(32, 170, 234)","rgb(98, 210, 111)","rgb(164, 207, 48)","rgb(227, 98, 227)"]}]}})})},l.prototype.getDataClientes=function(){var l=this;this._service.getTomadoresRamo(this.currentUser.cod_tipo_agente,this.currentUser.cod_agente).subscribe(function(n){console.log(n);for(var u=[],t=[],e=0;e<n.length;e++)u.push(n[e].desc_ramo),t.push(n[e].nro_tomadores);console.log(u),console.log(t),l.chartPie=new h.Chart("canvasPie",{type:"pie",data:{labels:u,datasets:[{label:"My First Dataset",data:t,backgroundColor:["rgb(54, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(227, 98, 227)","rgb(232, 56, 79)","rgb(32, 170, 234)","rgb(98, 210, 111)","rgb(164, 207, 48)"]}]}})})},l.prototype.getData=function(){var l=this;this._service.getPrimasRamo(this.currentUser.cod_tipo_agente,this.currentUser.cod_agente).subscribe(function(n){console.log(n);for(var u=[],t=[],e=0;e<n.length;e++)u.push(n[e].desc_ramo),t.push(n[e].valor_prima);console.log(u),console.log(t),l.chart=new h.Chart("canvas",{type:"bar",data:{labels:u,datasets:[{label:"Primas por Ramo",data:t,backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(54, 162, 235, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(255, 99, 132, 1)","rgba(255, 99, 132, 1)"],borderWidth:2}]},options:{tooltips:{callbacks:{label:function(l,n){return"$"+Number(l.yLabel).toFixed(0).replace(/./g,function(l,n,u){return n>0&&"."!==l&&(u.length-n)%3==0?","+l:l})}}},scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(l,n,u){return"$"+(l=(l=l.toString()).split(/(?=(?:...)*$)/)).join(".")}}}]}}})})},l.prototype.getDataAcum=function(){var l=this;this._service.getPrimasRamoAcum(this.currentUser.cod_tipo_agente,this.currentUser.cod_agente).subscribe(function(n){console.log(n);for(var u=[],t=[],e=0;e<n.length;e++)u.push(n[e].desc_ramo),t.push(n[e].valor_prima);console.log(u),console.log(t),l.chartAcum=new h.Chart("canvasAcum",{type:"bar",data:{labels:u,datasets:[{label:"Primas por Ramo",data:t,backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(54, 162, 235, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(255, 99, 132, 1)","rgba(255, 99, 132, 1)"],borderWidth:2}]},options:{tooltips:{callbacks:{label:function(l,n){return"$"+Number(l.yLabel).toFixed(0).replace(/./g,function(l,n,u){return n>0&&"."!==l&&(u.length-n)%3==0?","+l:l})}}},scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(l,n,u){return"$"+(l=(l=l.toString()).split(/(?=(?:...)*$)/)).join(".")}}}]}}})})},l}(),b=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function m(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,37,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,36,"div",[["class","card-columns cols-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Mis primas a\xf1o actual "])),(l()(),t["\u0275eld"](5,0,null,null,0,"div",[["class","card-header-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,3,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"canvas",[["id","canvas"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Mis primas acumuladas "])),(l()(),t["\u0275eld"](14,0,null,null,0,"div",[["class","card-header-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,3,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"canvas",[["id","canvasAcum"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,["",""])),(l()(),t["\u0275eld"](20,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Mis clientes a\xf1o actual "])),(l()(),t["\u0275eld"](23,0,null,null,0,"div",[["class","card-header-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,3,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"canvas",[["id","canvasPie"]],null,null,null,null,null)),(l()(),t["\u0275ted"](28,null,["",""])),(l()(),t["\u0275eld"](29,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Mis clientes Acumulado "])),(l()(),t["\u0275eld"](32,0,null,null,0,"div",[["class","card-header-actions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,3,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,1,"canvas",[["id","canvasPieAcum"]],null,null,null,null,null)),(l()(),t["\u0275ted"](37,null,["",""]))],null,function(l,n){var u=n.component;l(n,10,0,u.chart),l(n,19,0,u.chartAcum),l(n,28,0,u.chartPie),l(n,37,0,u.chartPieAcum)})}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,m,b)),t["\u0275did"](1,114688,null,0,g,[d,p.a],null,null)],function(l,n){l(n,1,0)},null)}var f=t["\u0275ccf"]("ng-component",g,v,{},{},[]),y=u("iutN"),C=u("gIcY"),_=u("ZYCi"),A={title:"Dashboard"},j=function(){return function(){}}(),w=u("xdbM"),P=u("xtZt"),R=function(){function l(){}return l.forRoot=function(){return{ngModule:l,providers:[]}},l}();u.d(n,"DashboardModuleNgFactory",function(){return k});var k=t["\u0275cmf"](e,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,f,y.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,C.t,C.t,[]),t["\u0275mpd"](1073742336,C.q,C.q,[]),t["\u0275mpd"](1073742336,C.h,C.h,[]),t["\u0275mpd"](1073742336,_.p,_.p,[[2,_.v],[2,_.l]]),t["\u0275mpd"](1073742336,j,j,[]),t["\u0275mpd"](1073742336,w.ChartsModule,w.ChartsModule,[]),t["\u0275mpd"](1073742336,P.e,P.e,[]),t["\u0275mpd"](1073742336,R,R,[]),t["\u0275mpd"](1073742336,e,e,[]),t["\u0275mpd"](1024,_.j,function(){return[[{path:"",component:g,data:A}]]},[])])})}}]);